{{extend 'layout.html'}}

{{block head}}
<link rel="stylesheet" media="screen" href="http://handsontable.com/bower_components/handsontable/dist/handsontable.full.css">
{{end}}

<h1>Current Assignments</h1>

<div id="grade_table">
</div>

{{block page_js}}
<script src="http://handsontable.com/bower_components/handsontable/dist/handsontable.full.js"></script>

<script type="text/javascript">
        gradeTableData = {{=XML(grid.json())}},
        container = document.getElementById('grade_table'),
        gradeTable = new Handsontable(container,{
            data: gradeTableData, 
            colHeaders:[
                "assignment Name",
                "Date Assigned",
                "Due Date",
                "Grade Type",
                "Total Score",
                "Pass/Fail?"
            ],
            columns: [
                {data: 'name'},
                {data: 'date_assigned'},
                {data: 'due_date'},
                {data: 'grade_type'},
                {data: 'score'},
                {data: 'isPassFail'}
        ],
            minSpareRows: 0,
            rowHeaders: false,
            colWidths:[125,105,105,105,105,105,105],
            manualColumnResize: true,
            editor:false,
            contextMenu:true});
</script>
{{end}}
